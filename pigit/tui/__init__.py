# -*- coding:utf-8 -*-


# `run` structure:
# =========================================================================================
#         Main flow                           Loop flow
# +--------------------------+
# | checking                 |
# +--------------------------|
# | whether git repo         |
# | whether has enough space |
# +--------------------------+
#              |
#              |                        +----------------------+
#     +----------------+                | get data             |
#     | init hook      |             +->+----------------------+
#     |                |             |  | `get_raw_data()`     |<----------------------+
#     +----------------+             |  | `process_raw_data()` |                       |
#              |                     |  +----------------------+                       |
#              |                     |             |                                   |
#              |                     |             |                                   |
#     +----------------+             |   +------------------+                          |
#     |                |             |   | refresh display  |<--------+                |
#     |                |--first into-+   +------------------+         |                |
#     |    loop        |                           |                  |                |
#     |                |                           |                  |                |
#     |                |<--------+      +---------------------+       |                |
#     +----------------+         |      |                     |       |                |
#              |                 |      | wait keyboard input |       |                |
#              |                 |      |                     |       |                |
#              |                 |      +---------------------+       |                |
#              |                 |                 |                  |      +----------------------+
#     +----------------+         |                 |                  |      | process custom event |
#     | unhook         |         |      +-------------------------+   |      +----------------------+
#     +----------------+         |      | process input key       |   |      | `process_keyevent()` |
#              |                 |      +-------------------------+   |      +----------------------+
#              |                 |      | Predefined cursor event |->-+                |
#         +--------+             |      |                         |                    |
#         | finish |             |      | custom event            |---------->---------+
#         +--------+             |      |                         |
#                                +--<---| quit  event             |
#                                       +-------------------------+
#
